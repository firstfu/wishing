---
description:
globs: *
alwaysApply: false
---
# 許願池 API 端點

本專案使用 Next.js API Routes 實現 RESTful API。

## API 基礎 URL

```
/api/v1
```

## 主要端點分類

### 認證相關
- `POST /auth/register` - 用戶註冊
- `POST /auth/login` - 用戶登入
- `GET /auth/logout` - 用戶登出
- `GET /auth/me` - 獲取當前用戶資訊

### 許願相關
- `GET /wishes` - 獲取許願列表，支援分頁和篩選
- `GET /wishes/:id` - 獲取單個許願詳情
- `POST /wishes` - 創建新許願
- `PUT /wishes/:id` - 更新許願資訊
- `DELETE /wishes/:id` - 刪除許願

### 留言相關
- `GET /wishes/:id/comments` - 獲取許願的留言
- `POST /wishes/:id/comments` - 對許願發表留言
- `PUT /comments/:id` - 更新留言
- `DELETE /comments/:id` - 刪除留言

### 私訊相關
- `GET /messages` - 獲取對話列表
- `GET /messages/:userId` - 獲取與特定用戶的對話
- `POST /messages/:userId` - 發送私訊
- `PUT /messages/:id/read` - 標記訊息為已讀

### 交易相關
- `GET /transactions` - 獲取交易歷史
- `POST /transactions/deposit` - 儲值
- `POST /transactions/pin` - 置頂許願
- `GET /transactions/:id` - 獲取交易詳情

## 認證機制
所有非公開端點均需要在請求頭中包含有效的 JWT 令牌：
```
Authorization: Bearer {token}
```

詳細的 API 端點文檔可參考 [wishing_pool_api_endpoints.md](mdc:docs/wishing_pool_api_endpoints.md)
